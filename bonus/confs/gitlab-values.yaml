global:
  hosts:
    domain: localhost
    https: false
    gitlab:
      name: localhost              # added: explicit host for correct URL generation
      https: false
    registry:
      https: false

  edition: ce

  kas:
    enabled: false                 # added: disables KAS agent server (saves ~200MB RAM)

  ingress:
    enabled: false
    configureCertmanager: false
    tls:
      enabled: false               # added: no TLS for local dev

  time_zone: UTC

  appConfig:
    enableUsagePing: false
    enableSeatLink: false
    enableImpersonation: true

certmanager-issuer:
  email: admin@localhost

certmanager:
  install: false                   # added: prevents cert-manager CRD conflicts

nginx-ingress:
  enabled: false

prometheus:
  install: false

gitlab-runner:
  install: false

registry:
  enabled: false                   # changed: Docker Hub is used instead, saves ~300MB RAM

postgresql:
  image:
    tag: 16.3.0                    # required for GitLab 18+
  metrics:
    enabled: false
  persistence:
    size: 4Gi                      # reduced from 8Gi, enough for local dev

redis:
  metrics:
    enabled: false
  master:
    persistence:
      size: 2Gi                    # reduced from 5Gi, Redis needs very little

gitlab-shell:
  minReplicas: 1
  maxReplicas: 1

webservice:
  minReplicas: 1
  maxReplicas: 1

sidekiq:
  minReplicas: 1
  maxReplicas: 1

gitaly:
  persistence:
    enabled: true
    size: 5Gi                      # reduced from 10Gi

minio:
  persistence:
    size: 5Gi
